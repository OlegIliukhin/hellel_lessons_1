# Модифікуйте клас Група (завдання минулої лекції) так, щоб при спробі додавання до групи більше 10-ти студентів,
# було порушено виняток користувача.
# Таким чином потрібно створити ще й виняток користувача для цієї ситуації. І обробити його поза межами класу.
# Тобто. потрібно перехопити цей виняток, при спробі додавання 11-го студента
# ДЗ необхідно здати наступним чином:

# --------------------------
# Пользовательский исключение
# --------------------------
class GroupLimitError(Exception):
    # Ошибка, возникающая при попытке добавить больше 10 студентов в группу
    pass

# --------------------------
# Класс Студент
# --------------------------
class Student:
    def __init__(self, name, age, student_id):
        self.name = name
        self.age = age
        self.student_id = student_id

    def __str__(self):
        return f"{self.name}, {self.age} лет, ID: {self.student_id}"

# --------------------------
# Класс Группа
# --------------------------
class Group:
    def __init__(self, group_name):
        self.group_name = group_name
        self.students = []

    def add_student(self, student):
        """Добавляет студента, но если их становится больше 10 — выбрасывает исключение."""
        if len(self.students) >= 10:
            raise GroupLimitError(
                f"Нельзя добавить студента: достигнут лимит (10) в группе '{self.group_name}'"
            )
        self.students.append(student)

    def __str__(self):
        result = f"Группа: {self.group_name}\n"
        result += "Студенты:\n"
        for st in self.students:
            result += f"  - {st}\n"
        return result

# --------------------------
# Проверка работы + обработка исключения
# --------------------------
group = Group("Python Developers")

# создаём 11 студентов
students = [Student(f"Student{i}", 18 + i, 1000 + i) for i in range(11)]

# пробуем добавить всех
for s in students:
    try:
        group.add_student(s)
        print(f"Добавлен: {s.name}")
    except GroupLimitError as e:
        print("⚠️ Ошибка:", e)

print("\n--- Содержимое группы ---")
print(group)


# **********
# Создаём своё исключение
# Мы создаём класс GroupLimitError, который наследуется от Exception.
# Он нужен, чтобы выдавать специальную ошибку при превышении лимита студентов.
# 2. Класс Student
# Обычный класс с полями:
# имя
# возраст
# ID студента
# 3. Класс Group
# Хранит список студентов и имеет метод add_student().
# При попытке добавить больше 10 студентов:
# → вызывается raise GroupLimitError(...).
# 4. Обработка ошибки
# Вне класса мы добавляем студентов в группу в цикле try…except.
# Когда пытаемся добавить 11-го студента,
# исключение перехватывается и выводится сообщение об ошибке,
# а программа НЕ ломается.