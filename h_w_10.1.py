# Ğ ĞµĞ°Ğ»Ñ–Ğ·ÑƒĞ¹Ñ‚Ğµ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ñƒ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ (Ğ· Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½ÑĞ¼ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ° yield),
# ÑĞºĞ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ‚Ğ¸Ğ¼Ğµ Ğ¿Ğ¾ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ñ‡Ğ»ĞµĞ½Ñƒ Ñ‡Ğ¸ÑĞ»Ğ¾Ğ²Ğ¾Ñ— Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ–,
# Ğ·Ğ°ĞºĞ¾Ğ½ ÑĞºĞ¾Ñ— Ğ·Ğ°Ğ´Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ·Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°.
# ĞšÑ€Ñ–Ğ¼ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ¼ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ— Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ¿Ğ¾Ğ²Ğ¸Ğ½Ğ½Ñ– Ğ±ÑƒÑ‚Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ¿ĞµÑ€ÑˆĞ¾Ğ³Ğ¾ Ñ‡Ğ»ĞµĞ½Ğ° Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ–Ñ— Ñ‚Ğ° ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ñ‡Ğ»ĞµĞ½Ñ–Ğ²,
# Ñ‰Ğ¾ Ğ²Ğ¸Ğ´Ğ°ÑÑ‚ÑŒÑÑ Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ– (n). Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ²Ğ¸Ğ½ĞµĞ½ Ğ·ÑƒĞ¿Ğ¸Ğ½Ğ¸Ñ‚Ğ¸ ÑĞ²Ğ¾Ñ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñƒ Ğ· Ğ´Ğ¾ÑÑĞ³Ğ½ĞµĞ½Ğ½Ñ n-Ğ³Ğ¾ Ñ‡Ğ»ĞµĞ½Ğ°.
# ĞŸÑ–Ğ´ĞºĞ°Ğ·ĞºĞ°: Ñ†Ğµ Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ Ğ´ÑƒĞ¶Ğµ ÑÑ…Ğ¾Ğ¶Ğµ Ğ½Ğ° Ğ½ĞµÑĞºÑ–Ğ½Ñ‡ĞµĞ½Ğ½Ğ¸Ğ¹ Ğ»Ñ–Ñ‡Ğ¸Ğ»ÑŒĞ½Ğ¸Ğº Ğ· Ğ¼Ğ°Ñ‚ĞµÑ€Ñ–Ğ°Ğ»Ñ–Ğ² Ğ»ĞµĞºÑ†Ñ–Ñ—!
# ĞŸĞ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ»Ğ¸ÑˆĞµ Ğ¾Ğ±Ğ¼ĞµĞ¶Ğ¸Ñ‚Ğ¸ ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ²Ğ¸Ğ´Ğ°Ğ²Ğ°Ğ½Ğ¸Ñ… Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ¼ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ÑŒ!
# *********************
# ğŸ“Œ ĞŸĞ¾ÑÑĞ½ĞµĞ½Ğ½Ñ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ° some_gen
# Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ some_gen Ñ” Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ñ Ñ– Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ñ‡Ğ¸ÑĞµĞ»,
# Ğ·Ğ³ĞµĞ½ĞµÑ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ… Ğ·Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾Ğ¼, ÑĞºĞµ Ğ·Ğ°Ğ´Ğ°Ñ” ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ†ÑŒĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ func.
# ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸:
# begin â€” Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºĞ¾Ğ²Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ–;
# end â€” ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ–Ğ², ÑĞºÑ– Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸;
# func â€” Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, ÑĞºĞ° Ñ„Ğ¾Ñ€Ğ¼ÑƒÑ” Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ñ‡Ğ»ĞµĞ½ Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ–
# (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, Ğ¿Ñ–Ğ´Ğ½ĞµÑĞµĞ½Ğ½Ñ Ğ´Ğ¾ ĞºĞ²Ğ°Ğ´Ñ€Ğ°Ñ‚Ñƒ).
# ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸:
# Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ñ‡Ğ¸Ğ½Ğ°Ñ” Ğ· Ñ‡Ğ¸ÑĞ»Ğ° begin.
# ĞĞ° ĞºĞ¾Ğ¶Ğ½Ñ–Ğ¹ Ñ–Ñ‚ĞµÑ€Ğ°Ñ†Ñ–Ñ— Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ yield Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ.
# ĞŸĞ¾Ñ‚Ñ–Ğ¼ Ğ´Ğ¾ Ğ½ÑŒĞ¾Ğ³Ğ¾ Ğ·Ğ°ÑÑ‚Ğ¾ÑĞ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ func, Ñ– Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ ÑÑ‚Ğ°Ñ” Ğ½Ğ¾Ğ²Ğ¸Ğ¼ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½ÑĞ¼.
# ĞŸÑ€Ğ¾Ñ†ĞµÑ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”Ñ‚ÑŒÑÑ end Ñ€Ğ°Ğ·Ñ–Ğ².
# ĞÑĞºÑ–Ğ»ÑŒĞºĞ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ğ¹ Ñ†Ğ¸ĞºĞ» for, Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ Ğ·ÑƒĞ¿Ğ¸Ğ½ÑÑ”Ñ‚ÑŒÑÑ Ğ¿Ñ–ÑĞ»Ñ Ğ´Ğ¾ÑÑĞ³Ğ½ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾Ñ— ĞºÑ–Ğ»ÑŒĞºĞ¾ÑÑ‚Ñ– ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ–Ğ².
# Ğ¢Ğ°ĞºĞ¸Ğ¼ Ñ‡Ğ¸Ğ½Ğ¾Ğ¼ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ñ„Ğ¾Ñ€Ğ¼ÑƒÑ” Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ğ·Ğ° Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¸Ğ¼ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ğ¼ Ğ·Ğ°ĞºĞ¾Ğ½Ğ¾Ğ¼.

# ****
from typing import Callable, Generator, Union

Number = Union[int, float]

def some_gen(begin: Number, end: int, func: Callable[[Number], Number]) -> Generator[Number, None, None]:
    """
    Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, ÑĞºĞ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ñ–ÑÑ‚ÑŒ Ñ‡Ğ¸ÑĞµĞ».

    begin â€” Ğ¿ĞµÑ€ÑˆĞ¸Ğ¹ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚ Ğ¿Ğ¾ÑĞ»Ñ–Ğ´Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚Ñ–
    end   â€” ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ–Ğ², ÑĞºÑ– Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ÑƒÑ‚Ğ¸
    func  â€” Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, ÑĞºĞ° Ñ„Ğ¾Ñ€Ğ¼ÑƒÑ” Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ ĞµĞ»ĞµĞ¼ĞµĞ½Ñ‚ (Ğ·Ğ°ĞºĞ¾Ğ½ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑ–Ñ—)
    """
    value = begin
    for _ in range(end):
        yield value
        value = func(value)

def pow(x: Number) -> Number:
    return x ** 2

from inspect import isgenerator

gen = some_gen(2, 4, pow)
assert isgenerator(gen) is True, 'Test1'
assert list(gen) == [2, 4, 16, 256], 'Test2'
print('OK')
